<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Running legacy code | Matthias Endler</title>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="author" content="Matthias Endler" />
<meta name="publisher" content="Matthias Endler"/>
<meta name="copyright" content="Matthias Endler"/>
<meta name="description" content="Private blog of Matthias Endler, a developer living in Bavaria, Germany. He loves coding, writing and designing. On his page you find a list of his current projects and howtos."/>
<meta name="keywords" content="linux, hacking, howtos, tech-blog, mindfuck, hacking-projects, karban, jQuery, ratingbar"/>
<meta name="page-topic" content="Tech blog"/>
<meta name="page-type" content="Private Homepage"/>
<meta name="audience" content="Experten, Fans, Fortgeschrittene"/>
<meta http-equiv="content-language" content="en-us"/>
<meta name="robots" content="index, follow"/>


<link rel="icon" href="/favicon.ico" type="image/ico" />
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
<link rel="stylesheet" type="text/css" href="/css/master.css" />

<!-- ORIGINAL CSS FILES - MINIFIED VERSION BELOW
<link rel="stylesheet" type="text/css" href="/css/datatables.css" />
<link rel="stylesheet" type="text/css" href="/css/google.css" />
<link rel="stylesheet" type="text/css" href="/css/ratingbar.css" />
<link rel="stylesheet" type="text/css" href="/css/light.css" />
<link rel="stylesheet" type="text/css" href="/css/style-sprite.css" />
-->
<link rel="stylesheet" type="text/css" href="/css/min.css" />

<link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />
<script type="text/javascript" src="/js/jquery-1.4.2.min.js"></script>



	<script src="http://www.google.com/jsapi?key=ABQIAAAA6-cUzy_0fUSotxQaRTrVKxQ5VSISQTSNMhOjjbGyoyWSf3wy5hThCpy0DF2vYTwoN-QZztWGtt9LSA" type="text/javascript"></script>
<script language="Javascript" type="text/javascript">
  
  google.load("search", "1");
  
  function OnLoad() {
  
  	 // Create a search control
     var searchControl = new google.search.SearchControl();
     
     // Add in a WebSearch
     var webSearch = new google.search.WebSearch();
     
     // Restrict our search to pages from this site
     webSearch.setSiteRestriction('matthias-endler.de');
     
     // Custom place for search results
     var options = new google.search.SearcherOptions();
     options.setExpandMode(google.search.SearchControl.EXPAND_MODE_OPEN);
     options.setRoot(document.getElementById("results"));
     
     // Add the searcher to the SearchControl
     searchControl.addSearcher(webSearch, options);
     
     // tell the searcher to draw itself and tell it where to attach
     searchControl.draw(document.getElementById("search"));

  }
  
  google.setOnLoadCallback(OnLoad);
  
</script>
<link rel="stylesheet" type="text/css" href="/css/google.css" />


</head>



	

	

	

	


<body>
<div class="page_margins">

		<!-- Clickable area for logo -->
		<a class="homelink" href="/"><div id="logo"></div></a>
  <div id="header">

    <h1><a href="/" title="German programmer and designer - Matthias Endler"><span id="matthias" class="grey_light">Matthias</span><span class="grey_dark">Endler</span></a></h1>
    <h6 id="cookie">Like popcorn or something?</h6>
    <!-- begin: main navigation -->
    <div id="menu">
      <ul>	
        
	        <li>
	        	<a href="/about" 
	        	class="box"><span class="glossy" />About</a>
	        </li>
        
	        <li>
	        	<a href="/movies" 
	        	class="box"><span class="glossy" />Movies</a>
	        </li>
        
	        <li>
	        	<a href="/projects" 
	        	class="box"><span class="glossy" />Projects</a>
	        </li>
        
	        <li>
	        	<a href="/" 
	        	class="box active"><span class="glossy" />Blog</a>
	        </li>
        
        <li id="search"></li>
      </ul>
    </div><!-- end: menu -->
  </div><!-- end: header -->

  
    <!-- begin: main content area -->
  <div id="main">
  	<div id="results">
  	</div>
    <div id="content">
        <div class="content">
  <h2>Running legacy code</h2>

  <small class="meta">
    <span class="grey">Posted&nbsp;
    <abbr class="timeago" title="2009-11-08T00:00:00Z"></abbr>
    </span>&nbsp;on&nbsp;Sunday, November 08 - 2009&nbsp;(524 words)
  </small>
  <hr /><br />
  
  
  
  
  
	<p class="intro">This is a very old post. The technical details may have changed by now. Please keep that in mind while reading.</p>
  
  
  <div class="sweet-justice space_bottom">
 	 <p>This short article deals with a serious problem in software development. When switching to a new platform (for instance from Windows XP to Windows Vista/7) the programmers need to make sure that old bits of code run flawlessly. There are several ways to achieve this goal that will be discussed during the next paragraphs:</p>

<h3 id='porting_the_code'>Porting the code</h3>

<p>This is generally considered a hard path to follow. For non-trivial legacy code-blocks chances are high that they contain side-effects and hacks in order to make them work in different environments. Porting code means replacing parts of the program that use functions and methods that don&#8217;t exist anymore with new ones which make use of the modern libraries&#160; and routines of the new platform. The major advantages are maintainable software and sometimes faster running programs. But it may be needed to hack the new platform libraries in order to preserve the whole functionality of an old program. When changing an algorithm inside legacy code the ported version may become unstable. Thus there may be better ways of mainting obsolete code today.</p>

<h3 id='emulators'>Emulators</h3>

<p>Emulators work much the same like porting the code. You replace old function calls with new ones in order to make everything work again. <br />However you don&#8217;t alter the old codebase itself (because you may not have the sourcecode available) but you create a new compatibility layer that &#8220;translates&#8221; the communication between the underlying operating system and software (our new platform) and our old software. Emulation can also be very fast and run stable for many years but writing an emulator can be even harder than porting the code because an educational guess may be needed to figure out how the program works internally. Additionaly the emulator itself may become obsolete in the future and might eventually&#160; be replaced by a new one.</p>

<h3 id='virtual_machines'>Virtual machines</h3>

<p>During the last years a new approach was rising up. The idea is simple: Don&#8217;t touch anything. Take the whole platform and copy it in order to run old software. The old software runs on top of the old operating system within a virtual machine that runs on the new platform.</p>

<p>From a sane software developers view this method is ridiculous. A lot of resources are wasted along the way. The system is busier switching contexts from an old platform to the new one and back than running the actual legacy program. However with cheap and capable hardware everywhere this idea gets more and more interesting. As Steve Atwood coined it:</p>

<blockquote>
<p>Always try to spend your way out of a performance problem first by throwing faster hardware at it.<sup id='fnref:1'><a href='#fn:1' rel='footnote'>1</a></sup></p>
</blockquote>

<p>And he&#8217;s right. The Microsoft developers did the same on their new NT 6.0 platform (Vista, Windows 7, Windows Server 2008&#8230;): Windows XP is running inside a virtual machine. This way everything behaves just like one would run the software on the old system. And by optimizing the performance bottlenecks (input/output, context switches) one gets a fast and stable, easy to maintain product.</p>

<p>Every method has its major advantages and disadvantages. It&#8217;s on the devoloper to select the appropriate strategy.</p>
<div class='footnotes'><hr /><ol><li id='fn:1'><a href='http://www.codinghorror.com/blog/archives/001198.html'>Article on Coding Horror</a><a href='#fnref:1' rev='footnote'>&#8617;</a></li></ol></div>
 	 
 	 
 	 	<a href="/2009/web-development-with-jquery-a-list-of-development-environments" class="greybg">Web-Development with JQuery &#x25BA;</a>
 	  
 	 	
  </div>
  
  
  <small class="meta">Feel free to <span class="grey">copy</span>, <span class="grey">share</span> and <span class="grey">comment</span>.<br /><br /></small>
  
 <div id="fb-root"></div>
 <div id="twitter-root">Tweet</div>
 

 
 
 
 
 <script type="text/javascript" src="http://tweet-it.s3.amazonaws.com/tweet-it.js"></script>
 <script type="text/javascript">
 	$(document).ready(function(){
 		$("#twitter-root").tweetIt();
 	})
 </script>
 <script language="javascript"  type="text/javascript" src="/js/facebook.js"></script>
<script type="text/javascript" src="http://reddit.com/buttonlite.js?i=5&styled=off"></script>
 <script type="text/javascript">
	 var idcomments_acct = 'a82f3fba842da37042bd1be376926290';
	 var idcomments_post_id;
	 var idcomments_post_url;
 </script>
 <span id="IDCommentsPostTitle" style="display:none"></span>
 <script type='text/javascript' src='http://www.intensedebate.com/js/genericCommentWrapperV2.js'></script>
</div>
    </div>
	<div id="sidebar">
	<ul>
		
		<li>
			<h4>About</h4>
			<ul>
				<li class="mini sweet-justice">
				Welcome! Iâ€™m Matthias Endler. I love <strong>coding</strong>, <strong>writing</strong> and <strong>designing</strong>. On this page you find a list of my current projects and howtos. I live in Bavaria, Germany. <a href="/about">[more...]</a></li>
			</ul>
		</li>
		
		<li>
			<h4>Featured posts</h4>
			<ul id="featured" class="linklist_mini">
				
					
						<li><a href="/2010/Digg-a-case-study-for-the-social-web">Digg &ndash; a case study for the social web</a></li>
					
				
					
				
					
						<li><a href="/2010/why-i-love-text-files">Why I love text files</a></li>
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
				<li><a href="/archive">[more...]</a></li>
			</ul>
		</li>
		<li>
			<h4>On this page</h4>
			<div class="anchors"></div>
		</li>
		<li>
			<h4>Elsewhere</h4>
			<ul id="elsewhere">
				<li class="github hoverpad">
					<a href="http://www.github.com/mre">Github</a>
				</li>
				<li class="twitter hoverpad">
					<a href="http://www.twitter.com/matthiasendler">Twitter</a>
				</li>
				<li class="stackoverflow hoverpad">
					<a href="http://stackoverflow.com/users/270334/mre">Stack Overflow</a>
				</li>
				<li class="kdelook hoverpad">
					<a href="http://kde-look.org/usermanager/search.php?username=debian1993">KDE Look</a>
				</li>
				<li class="rss hoverpad">
					<a href="/feed.xml">RSS Feed</a>
				</li>
				<li class="atom hoverpad">
					<a href="/atom.xml">Atom Feed</a>
				</li>
				<li class="archive hoverpad">
					<a href="/archive">Post archive</a>
				</li>
			</ul>
		</li>
		<li class="linklist_mini">
			<h4>Twitter</h4>
			<div class="mini tweet"></div>
		</li>
	</ul>
</div> <!-- end: #sidebar -->
<script type="text/javascript" src="/js/jquery.tweet.js"></script>
<script type="text/javascript" charset="utf-8">
$(document).ready(function() {
	$("#content").anchorfy({ animate: true});
	
	$(".tweet").tweet({
	    username: "matthiasendler",
	    join_text: "auto",
	    avatar_size: null,
	    count: 2,
	    auto_join_text_default: "",
	    auto_join_text_ed: "",
	    auto_join_text_ing: "",
	    auto_join_text_reply: "",
	    auto_join_text_url: "",
	    loading_text: ""
	});
});
</script>

    <div class="clear"></div>
  </div>
  <!-- end: main content area -->
  
  </div><!-- end: page margins -->
  <!-- begin: footer -->
  <div id="footer">
  	<div class="page_margins">
	    <div class="hlist">
	      <ul>
			<li class="bottom_greybg">
				<a href="#top">&uarr; Go to top</a>
			</li>
			
				
					<li class="bottom_greybg">
					<a href="/about">About</a>
					</li>
				
			
				
					<li class="bottom_greybg">
					<a href="/movies">Movies</a>
					</li>
				
			
				
					<li class="bottom_greybg">
					<a href="/projects">Projects</a>
					</li>
				
			
				
					<li class="active_mini bottom_greybg">Blog</li>
				
			
					<li class="bottom_greybg">
					<a href="/archive">Archive</a>
					</li>
					<li class="bottom_greybg">
					<a href="/snippets">Links</a>
					</li>
	      </ul>
	    </div>
	    <p class="legal">
	    &copy; Matthias Endler. This is a personal weblog. All statements and opinions expressed on this website are those of the author. If you see a typo, a spelling mistake, an error, or any other issue, please <a href="/about">tell me about it</a>. All written content is released under <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/">Creative Commons BY-NC-SA 2.0</a> as long as not otherwise stated.  Other product and company names shown may be trademarks of their respective owners.
	    <br /><a href="http://validator.w3.org/check?uri=referer">Valid XHTML</a>. Last update: 2011-02-01
	    </p>
    </div><!-- end: page margins -->
  </div><!-- end: footer -->
  
<!-- ORIGINAL JAVASCRIPT FILES. MINIFIED VERSION BELOW -->
<!--
<script type="text/javascript" src="/js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="/js/jquery.transform-0.6.2.min.js"></script>
<script type="text/javascript" src="/js/jquery.fortune.js"></script>
<script type="text/javascript" src="/js/jquery.timeago.js"></script>
<script type="text/javascript" src="/js/jquery.gmsis.js"></script>
<script type="text/javascript" src="/js/sweet-justice.min.js"></script>
<script type="text/javascript" src="/js/google_analytics.js"></script>
<script type="text/javascript" src="/js/jquery.ratingbar.js"></script>
<script type="text/javascript" src="/js/jquery.anchorfy.js"></script>
<script type="text/javascript" src="/js/custom.js"></script>
-->

<script type="text/javascript" src="/js/min.js"></script>


</body>
</html>

